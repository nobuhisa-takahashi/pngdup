# 同一パターン複製ツール

## 仕様

- 入力
    - PNG画像またはBMP画像
    - 画像サイズ
        - 縦: 64
        - 横: 64,128,192
- 出力
    - PNG画像
    - 画像サイズ
        - 縦: 64
        - 横: 192
- 画像の対応色は2色(黒: #000000, 指定色(初期値=オレンジ: #FF9900))
    - 指定色の色変更可能
- プレビュー画面 (2つのプレビュー画面)
    - 元画像のプレビュー画面
    - 変換後のプレビュー画面
- 入力画像の 原点(0,0)から64x64のサイズ部分を横方向に繰り返しパターン(横方向に３つ並べた形)として作成する
    - 注意: アンチエイリアスなど、劣化されない様にすること
- 操作方法
    - 機能・操作説明セクション: 画面上部に折りたたみ可能な説明セクションを表示
    - 背景色・前景色表示: 現在の背景色(#000000)と前景色(指定色)を表示
    - Webブラウザー上のファイル選択領域に D&Dして登録して元画像プレビュー表示
        - 元画像プレビュー表示は、倍率指定して拡大表示可能
          - 1倍(1x): 1dotを 1x1 として表示
          - 2倍(2x): 1dotを 2x2 として表示
          - 4倍(4x): 1dotを 4x4 として表示
          - 6倍(6x): 1dotを 6x6 として表示 (初期表示)
          - 8倍(8x): 1dotを 8x8 として表示
        - 倍率変更したら元画像プレビュー画面サイズも更新
        - ドット編集機能
          - 元画像プレビュー画面上でドットをクリックすると、黒と指定色が入れ替わる
          - 用途: 色が異なる部分を黒または指定色に合わせてエラーをなくす、デザイン修正
          - リセットボタン: 元画像の初期状態に戻す
          - Undoボタン: 編集操作を1つ戻す
          - Redoボタン: 編集操作を1つ進める
          - 編集履歴は最大50件まで保持
        - パターンコピー機能
          - 原点(0,0)から64x64の領域を残りの領域にコピー
          - 64x64: 残りの領域がないので何もしない（ボタンは無効）
          - 128x64: (64,0)にコピー
          - 192x64: (64,0), (128,0)にコピー
    - 指定色をカラーピッカーまたはHEX入力で変更可能（初期値: #FF9900）
        - HEX入力がデフォルト表示
        - 指定色変更時は自動的に色チェックを再実行
    - 作成ボタン押下で、変換後の画像をプレビュー表示する
        - 変換後プレビュー表示は、倍率指定して拡大表示可能
          - 1倍(1x): 1dotを 1x1 として表示 (初期表示)
          - 2倍(2x): 1dotを 2x2 として表示
          - 4倍(4x): 1dotを 4x4 として表示
          - 6倍(6x): 1dotを 6x6 として表示
          - 8倍(8x): 1dotを 8x8 として表示
        - 倍率変更したら変換後プレビュー画面サイズも更新
    - 保存ボタンでローカルにファイルを保存する
- html上で動作 (JavaScriptを使用する)
- その他
    - 入力画像のチェックを行う
        - 画像サイズ: 縦64、横64/128/192のいずれか
            - 正しくなければ画面上にエラーメッセージを表示
        - 使用する色: 2色(黒と指定色)
            - 対応色以外(異なる部分)があれば、該当位置を点滅させる (元画像プレビュー画面)
              - 複数箇所あればそれらも全て点滅させる
              - 倍率変更しても該当部分の点滅は維持
              - 点滅表示はCanvas上に直接描画されるため、位置ずれが発生しない
            - 画面上に座標 (x,y) と色(RGB: #RRGGBB 形式)を表示
            - エラー補正機能
              - エラー箇所を全て前景色にする: エラーとなっているドット全てを前景色（指定色）に変更
              - エラー箇所を全て背景色にする: エラーとなっているドット全てを背景色（黒）に変更
              - エラーが検出された場合のみ表示される
              - 編集履歴に保存されるため、Undo/Redoで取り消し・再実行が可能
